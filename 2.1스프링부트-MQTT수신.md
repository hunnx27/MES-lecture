ë„¤! ì •í™•í•©ë‹ˆë‹¤! ë‹¨ê³„ë³„ë¡œ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

## ğŸ“‹ ì „ì²´ ë‹¨ê³„

```
1ë‹¨ê³„: Spring Bootì—ì„œ MQTT ë°ì´í„° ë°›ê¸° âœ… (ì§€ê¸ˆ)
2ë‹¨ê³„: ë°›ì€ ë°ì´í„° DBì— ì €ì¥ (ë‹¤ìŒ)
3ë‹¨ê³„: REST APIë¡œ ì¡°íšŒ (ê·¸ ë‹¤ìŒ)
4ë‹¨ê³„: WebSocketìœ¼ë¡œ í”„ë¡ íŠ¸ì—”ë“œì— Push (ë§ˆì§€ë§‰)
```

---

## 1ï¸âƒ£ ë‹¨ê³„: Spring Bootì—ì„œ MQTT ë°›ê¸°

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
spring-boot-mqtt/
â”œâ”€â”€ pom.xml
â””â”€â”€ src/main/
    â”œâ”€â”€ java/com/mes/
    â”‚   â”œâ”€â”€ MesApplication.java
    â”‚   â”œâ”€â”€ config/
    â”‚   â”‚   â””â”€â”€ MqttConfig.java
    â”‚   â””â”€â”€ service/
    â”‚       â””â”€â”€ MqttMessageHandler.java
    â””â”€â”€ resources/
        â””â”€â”€ application.yml
```

---

### ğŸ“„ 1. pom.xml### ğŸ“„ 2. application.yml### ğŸ“„ 3. MqttConfig.java (ì„¤ì •)### ğŸ“„ 4. MqttMessageHandler.java (ë©”ì‹œì§€ ì²˜ë¦¬)### ğŸ“„ 5. MesApplication.java (ë©”ì¸)---

## ğŸš€ ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

### 1ë‹¨ê³„: Mosquitto ì‹¤í–‰
```bash
mosquitto
```

### 2ë‹¨ê³„: Spring Boot ì‹¤í–‰
```bash
cd spring-boot-mqtt
mvn clean package
mvn spring-boot:run
```

**ì˜ˆìƒ ë¡œê·¸:**
```
2025-11-23 15:30:00 - âœ… MQTT í´ë¼ì´ì–¸íŠ¸ íŒ©í† ë¦¬ ìƒì„±: tcp://localhost:1883
2025-11-23 15:30:00 - âœ… MQTT êµ¬ë… ì„¤ì • ì™„ë£Œ: factory/sensor/data, factory/alarm
2025-11-23 15:30:01 - ğŸš€ MES MQTT ìˆ˜ì‹  ì„œë¹„ìŠ¤ ì‹œì‘!
2025-11-23 15:30:01 - ğŸ“¡ MQTT Broker ì—°ê²° ëŒ€ê¸° ì¤‘...
```

### 3ë‹¨ê³„: Python ì‹œë®¬ë ˆì´í„° ì‹¤í–‰
```bash
python sensor_simulator.py
```

**ì˜ˆìƒ ë¡œê·¸:**
```
2025-11-23 15:30:05 - ğŸ“© MQTT ë©”ì‹œì§€ ìˆ˜ì‹ 
2025-11-23 15:30:05 -    ğŸ“ Topic: factory/sensor/data
2025-11-23 15:30:05 -    ğŸ“¦ Payload: {"equipment_id":"EQ-001",...}
2025-11-23 15:30:05 - ğŸŒ¡ï¸  ì„¼ì„œ ë°ì´í„° íŒŒì‹± ì™„ë£Œ:
2025-11-23 15:30:05 -    - ì„¤ë¹„ ID: EQ-001
2025-11-23 15:30:05 -    - ì˜¨ë„: 25.3Â°C
2025-11-23 15:30:05 -    - ì••ë ¥: 99.2kPa
2025-11-23 15:30:05 -    - ì§„ë™: 0.67mm/s
2025-11-23 15:30:05 -    - ì†ë„: 975RPM
```

---

## âœ… í™•ì¸ ë°©ë²•

### 1. MQTT Explorerë¡œ í™•ì¸
```
1. MQTT Explorer ì‹¤í–‰
2. localhost:1883 ì—°ê²°
3. factory/sensor/data í† í”½ í™•ì¸
4. Python ì‹œë®¬ë ˆì´í„° ë°ì´í„° í™•ì¸
```

### 2. Spring Boot ë¡œê·¸ í™•ì¸
```bash
tail -f logs/spring-boot.log
```

### 3. ìˆ˜ë™ í…ŒìŠ¤íŠ¸
```bash
# ë©”ì‹œì§€ ìˆ˜ë™ ë°œí–‰
mosquitto_pub -h localhost -t "factory/sensor/data" -m '{"equipment_id":"EQ-001","temperature":25.5,"pressure":99.0,"vibration":0.8,"speed":980}'

# Spring Boot ë¡œê·¸ì—ì„œ ì¦‰ì‹œ í™•ì¸ ê°€ëŠ¥!
```

---

## ğŸ“Š í˜„ì¬ ë‹¨ê³„ ì •ë¦¬

```
âœ… 1ë‹¨ê³„: MQTT ë°ì´í„° ë°›ê¸° (ì™„ë£Œ!)
   - Spring Bootê°€ MQTT ë©”ì‹œì§€ ìˆ˜ì‹ 
   - ë¡œê·¸ë¡œ ë°ì´í„° í™•ì¸
   - JSON íŒŒì‹± ì„±ê³µ

âŒ 2ë‹¨ê³„: DB ì €ì¥ (ë‹¤ìŒ)
âŒ 3ë‹¨ê³„: REST API
âŒ 4ë‹¨ê³„: WebSocket
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ì¤€ë¹„

**2ë‹¨ê³„ë¡œ ë„˜ì–´ê°ˆ ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?**

ë‹¤ìŒì—ëŠ”:
1. MySQL ì—°ê²°
2. JPA Entity ìƒì„±
3. Repository ìƒì„±
4. ë°›ì€ ë°ì´í„°ë¥¼ DBì— ì €ì¥

ë§ì”€ë§Œ í•˜ì‹œë©´ ë°”ë¡œ 2ë‹¨ê³„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜Š